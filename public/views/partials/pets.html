<!-- START pets.html -->
<div>
  <div class="">
    <h3>Info for {{pc.userFirst}}'s Pets</h3>
    <p><button type='button' name='cmdAddPet' ng-click='pc.newPet()' ng-show='pc.petEdit'>New Pet</button></p>
  </div>


  <!-- <p ng-show='pc.petEdit'><button type='button' name='cmdAddPet' ng-click='pc.newPet()'>New Pet</button> -->


  <!-- <form editable-form name="editableForm" onaftersave="saveUser()">
    <div> -->
      <!-- editable username (text with validation) -->
      <!-- <span class="title">Name: </span>
      <span editable-text="pc.pet.name" e-name="petName" onbeforesave="checkName($data)" e-required>{{ user.name || 'empty' }}</span>
    </div>

    <div> -->
      <!-- editable status (select-local) -->
      <!-- <span class="title">Type: </span>
      <span editable-select="pc.petType" e-name="petType" e-ng-options="s.value as s.text for s in petTypes">
        {{ (petTypes | filter:{value: pc.petType})[0].text || 'Not set' }}
      </span>
    </div>

    <div> -->
      <!-- editable username (text with validation) -->
      <!-- <span class="title">Breed: </span>
      <span editable-text="pc.pet.Breed" e-name="petBreed" onbeforesave="checkName($data)" e-required>{{ pet.breed || 'empty' }}</span>
    </div>

    <div> -->
      <!-- editable username (text with validation) -->
      <!-- <span class="title">Color: </span>
      <span editable-text="pc.pet.Color" e-name="petBreed" onbeforesave="checkName($data)" e-required>{{ pet.color || 'empty' }}</span>
    </div>

    <div> -->
      <!-- editable username (text with validation) -->
      <!-- <span class="title">Markings: </span>
      <span editable-text="pc.pet.Markings" e-name="petMarkings" onbeforesave="checkName($data)" e-required>{{ pet.markings || 'empty' }}</span>
    </div>

    <div> -->
      <!-- editable username (text with validation) -->
      <!-- <span class="title">Sex: </span>
      <span editable-text="pc.pet.Sex" e-name="petSex" onbeforesave="checkName($data)" e-required>{{ pet.sex || 'empty' }}</span>
    </div>

    <div>
      <a href="#" editable-bsdate="pet.dob"
                  e-is-open="opened.$data"
                  e-ng-click="open($event,'$data')"
                  e-datepicker-popup="dd-MMMM-yyyy">
        {{ (pet.dob | date:"dd/MM/yyyy") || 'empty' }}
      </a>
    </div>

    <div> -->
      <!-- editable group (select-remote) -->
      <!-- <span class="title">Group: </span>
      <span editable-select="user.group" e-name="group" onshow="loadGroups()" e-ng-options="g.id as g.text for g in groups">
        {{ showGroup() }}
      </span>
    </div>

    <div class="buttons"> -->
      <!-- button to show form -->
      <!-- <button type="button" class="btn btn-default" ng-click="editableForm.$show()" ng-show="!editableForm.$visible">
        Edit
      </button>
      buttons to submit / cancel form
      <span ng-show="editableForm.$visible">
        <button type="submit" class="btn btn-primary" ng-disabled="editableForm.$waiting">
          Save
        </button>
        <button type="button" class="btn btn-default" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
          Cancel
        </button>
      </span>
    </div>
  </form> -->



  <!-- START addNewPet  -->
  <div class='petData_01 userEditInfo' ng-hide='pc.petEdit'>
    <h4><b>Add your new pet, {{pc.userFirst}}!</b></h4>

    <p><label for='txtPetName'>Name: </label>
      <input type="text" name="txtPetName" value="" ng-model='pc.txtPetName'>
    </p>

    <p><label for='selPetType'>Type: </label>
    <select class='petType' name='selPetType' ng-model='pc.selPetType'>
      <option value='select'>Select One</option>
      <option value='cat'>Cat</option>
      <option value='dog'>Dog</option>
    </select></p>

    <p><label for='selPetBreed'>Breed: </label>
    <select class='petBreed' ng-model='pc.txtPetBreed' name='selPetBreed'>
      <option value='select'>Select One</option>
      <option value='Xiasi'>Xiasi</option>
      <option value='TBD'>To be populated via angucomplete-alt</option>
    </select></p>

    <p><label for='selPetColor'>Color: </label>
    <select class='petColor' ng-model='pc.txtPetColor' name='selPetColor'>
      <option value='select'>Select One</option>
      <option value='Black'>Black</option>
      <option value='Brown'>Brown</option>
      <option value='Choclate'>Choclate</option>
      <option value='TBD'>To be populated via angucomplete-alt</option>
    </select></p>

    <p><label for='selPetMarking'>Markings: </label>
    <select class='petMarking' ng-model='pc.txtPetMarking' name='selPetMarking'>
      <option value='select'>Select One</option>
      <option value='Brindle'>Brindle</option>
      <option value='Dapple'>Dapple</option>
      <option value='Harlequin'>Harlequin</option>
      <option value='dot'>To be populated via angucomplete-alt</option>
    </select></p>

    <p><label for=''>Sex: </label>
    <select class='petSex' name='selPetSex' ng-model='pc.selPetSex'>
      <option value='select'>Select One</option>
      <option value='Female (intact)'>Female (intact)</option>
      <option value='Female (spayed)'>Female (spayed)</option>
      <option value='Male (intact)'>Male (intact)</option>
      <option value='Male (neutered)'>Male (neutered)</option>
    </select></p>

    <p><label for='dtmPetDOB'>DOB: </label>
    <input type='date' name='dtmPetDOB' value='' ng-model='pc.dtmPetDOB'></p>
    <button type="button" name="cmdAddPet" ng-click='pc.addPet()'>Add</button>
    <button type="button" name="cmdCancAddPet" ng-click='pc.newPet()'>Cancel</button>
  </div>
  <!-- END addNewPet -->

  <!-- START display petData -->
  <div class='petDataDisplay' ng-init='pc.getPets([pc.userEmail])' ng-show='pc.petHistory'>

    <!-- START ng-repead petData -->
    <div ng-repeat='pet in pc.pets track by $index' class='userEditInfo petBlock' ng-show='pc.petEdit'>
      <h4>{{pet.txtpetname}} {{pet.id}}</h4>
      <p><b>Description: </b></p>
      <ul>
        <li>{{pet.txtpetname}} is a {{pet.txtsex | lowercase}} {{pet.txtbreed}}</li>
        <li ng-if='pet.txtsex == "Female (spayed)" || pet.txtsex == "Female (intact)"'>Born on {{pet.dtmdob | date:'MM/dd/yy'}} she is  {{pet.age.years}} years old</li>
        <li ng-if='pet.txtsex === "Male (neutered)" || pet.txtsex === "Male (intact)"'>Born on {{pet.dtmdob | date:'MM/dd/yy'}} he is  {{pet.age.years}} years old</li>
        <li ng-if='pet.txtsex == "Female (spayed)" || pet.txtsex == "Female (intact)"'>Her coat is {{pet.txtcolor | lowercase}} with {{pet.txtmarking | lowercase}} markings</li>
        <li ng-if='pet.txtsex === "Male (neutered)" || pet.txtsex === "Male (intact)"'>His coat is {{pet.txtcolor | lowercase}} with {{pet.txtmarking | lowercase }} markings</li>
      </ul>
      <p><button type="button" name="cmdHistory" ng-click='pc.getHealth([pet.id])'>History</button>
      <button type="button" name="cmdEditPet" ng-click='pc.editPet()'>Edit</button></p>
    </div>
    <!-- END ng-repead petData -->

  </div>
  <!-- END display petData -->

</div>
<!-- START healthHistory div -->
<div class='healthHistory' ng-hide='pc.petHistory'>
  <h4>Health History: {{pc.petName}}</h4>
  <!-- <p><button type="button" name="cmdNewAppt">New Appointment</button></p> -->
  <!-- START health history table -->
  <table>
    <!-- START header row -->
    <thead>
      <tr>
        <th>Date</th>
        <th>Purpose</th>
        <th>Weight</th>
        <th>Meds</th>
        <th>Cost</th>
        <th>Notes</th>
      </tr>
    </thead>
    <!-- END header row -->

    <!-- START data -->
    <tbody>
      <tr ng-repeat='health in pc.health track by $index'>
        <td>{{health.dtmdate | date:'MM/dd/yy'}}</td>
        <td>{{health.txtpurpose}}</td>
        <td>{{health.intweight}}</td>
        <td>{{health.txtmeds}}</td>
        <td>{{health.curcost}}</td>
        <td>{{health.txtnotes}}</td>
      </tr>
    </tbody>
    <!-- END data -->
  </table>

</div>
<!-- END healthHistory div -->
<!-- END pets.html -->
